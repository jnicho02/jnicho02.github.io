<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>

    Setting up Xampp on the Mac OS X</title>
    <!-- Bootstrap 4 alpha CSS -->
    <!-- IMPORTANT: Don't use this .css file in production. Use Bootstrap 3 until Bootstrap 4.0.0 is released. -->
    <link rel="stylesheet" href="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/css/bootstrap.css">

    <link href="/stylesheets/normalize.css" rel="stylesheet" /><link href="/stylesheets/all.css" rel="stylesheet" />
    <script src="/javascripts/all.js"></script>
  </head>

  <body class="x2008 x2008_12 x2008_12_09 x2008_12_09_xampp-on-os-x x2008_12_09_xampp-on-os-x_index">


        <nav class="navbar navbar-fixed-top navbar-dark bg-inverse">
      <!-- Brand -->
      <a class="navbar-brand" href="/"><img src="/images/jez.jpg" width="80em" class="img-circle pull-left" alt="Photo of Jez Nicholson"></a>
      <!-- Links -->
      <ul class="nav navbar-nav">
        <li class="nav-item"><a class="nav-link" href="/about/">About</a></li>
        <li class="nav-item"><a class="nav-link" href="/tags/">Tags</a></li>
      </ul>
    </nav>

    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <div class="container-fluid">
      <h1>Setting up Xampp on the Mac OS X</h1>
      <p>I had a small amount of grief recently trying to set up XAMPP on the Apple Mac OS X for some of our designers, so I thought that i'd post my findings here in case it helps someone else.</p>

<p>Install
The install is fairly easy. Get it at Apachefriends</p>

<p>Put it in your path
For my project builds we need to be able to run mysql and php from the command line therefore I add the xampp application to the .bash_profile file in the users home directory</p>

<h1 id="bashprofile">.bash_profile</h1>
<p># Get the aliases and functions
if [ -f ~/.bashrc ]; then
. ~/.bashrc
fi
# User specific environment and startup programs
export XAMPP_HOME=/Applications/xampp/xamppfiles
export PATH=${XAMPP_HOME}/bin:${PATH}
export PATH
unset USERNAME</p>

<p>I found that I needed to put the Xampp stuff before the standard path so that the Mac uses Xampp's php and not the standard /etc/bin/php if installed</p>

<p>to check that it has worked, in the terminal type:</p>

<p>which mysql
which php</p>

<p>both should be from /Applications/xampp/xamppfiles</p>

<p>MySql temp directory
For some reason Mysql throws a wobbly if you use the default temp directory. I've experienced this before when trying to do a mysqldump. On the Mac change /Applications/xampp/etc/php.ini to use:</p>

<p>mysql.default_socket = /Applications/xampp/xamppfiles/var/mysql/mysql.sock</p>

<p>and change /Applications/xampp/etc/my.cnf in two places:</p>

<p>[client]
socket = /Applications/xampp/xamppfiles/var/mysql/mysql.sock
[mysqld]
socket = /Applications/xampp/xamppfiles/var/mysql/mysql.sock</p>

<p>to check it's all working, fire up the terminal on type:</p>

<p>mysql
\s</p>

<p>It should tell you that the UNIX socket is /Applications/xampp/xamppfiles/var/mysql/mysql.sock</p>

<p>Vhosts
Personally, I like to use vhosts for Apache and on the Mac the most appropriate place to put web sites would appear to be the /Sites directory</p>

<p>Turn them on
Turn on vhosts by editing /extra/httpd-vhosts.conf</p>

<p>NameVirtualHost <em>:80
&lt;VirtualHost *:80&gt;
  ServerName default
  DocumentRoot /Applications/xampp/xamppfiles/htdocs
&lt;/VirtualHost&gt;
Include etc/extra/</em>.vhost</p>

<p>This means that everything going to port 80 will be checked by the local Apache installation. The very first site config found by Apache will be the default, so Servername default is defined first to point to the xampp control panel. Individual sites can be configured in their own xxx.vhost file placed in the conf/extras directory. I do this as it is then simple to change the file extension and restart Apache to stop using the site.</p>

<p>Add a vhost
An example vhost file might be example_site.vhost:</p>

<p>&lt;VirtualHost *:80&gt;
  ServerName example_site
  DocumentRoot "/Users/jnicholson/Sites/example_site"</p>

<p>AddDefaultCharset UTF-8</p>

<p>&lt;Directory "/Users/jnicholson/Sites/example_site"&gt;
    Options ExecCGI FollowSymLinks Indexes
    AllowOverride None
    Order allow,deny
    Allow from all
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;</p>

<p>/etc/hosts
Change the /etc/hosts file to point 127.0.0.1 to your new site. You may need to use TextWrangler as the hosts file is generally protected. Add the line:</p>

<p>127.0.0.1 example_site</p>

<p>To see if it worked you can run Apache from the terminal:</p>

<p>apachectl -S</p>

<p>This should list all the vhosts that are configured. If this works okay then start up xampp from the control panel and navigate to http://example_site/</p>

    </div>

    <div class="container-fluid" name="tags">
        <a href="/tags/code/">
        <span class="label label-pill label-info pull-left">code</span>
        </a>
    </div>
    <div class="container">
  <span>It's All In The Game blog (c) 2005-16 by Jez Nicholson</span>
</div>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-5854204-2', 'auto');
  ga('send', 'pageview');
</script>
<!-- Bootstrap 4 Alpha JS -->
<!-- IMPORTANT: Don't use this .js file in production. Use Bootstrap 3 until Bootstrap 4.0.0 is released. -->
<script src="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/js/bootstrap.js"></script> 

  </body>
</html>
