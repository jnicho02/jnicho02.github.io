<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>
    my quick n' easy Apache2 set up</title>
    <link rel="stylesheet" href="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/css/bootstrap.css">
    <link href="/stylesheets/normalize.css" rel="stylesheet" /><link href="/stylesheets/all.css" rel="stylesheet" />
    <script src="/javascripts/all.js"></script>
  </head>

  <body class="x2006 x2006_10 x2006_10_quick-n-easy-apache">
        <nav class="navbar navbar-fixed-top navbar-dark bg-inverse">
      <a class="navbar-brand" href="/"><img src="/images/jez.jpg" width="80em" class="img-circle pull-left" alt="Photo of Jez Nicholson"></a>
      <ul class="nav navbar-nav">
        <li class="nav-item"><a class="nav-link" href="/about/">About</a></li>
        <li class="nav-item"><a class="nav-link" href="/tags/">Tags</a></li>
      </ul>
    </nav>

    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <div class="container-fluid">
      <h1>my quick n' easy Apache2 set up</h1>
      <p>Whilst developing or trialling web applications I often find that I have to change my Apache2 setup. I'm starting a new job next Monday so i'm going to write up my quick n' easy way for posterity. I'm sure that someone will tell me that there's a better way, but here goes (BTW: I'm on a Windows box):</p>

<p>modules
In my httpd.conf, at the bottom of section two I include any .conf in my config directory:
#
# Bring in additional module-specific configurations
#</p>
<IfModule mod_ssl.c="">
  Include C:/cygwin/etc/httpd/conf/ssl.conf
</IfModule>

<p>include C:/cygwin/etc/httpd/conf/*.conf</p>

<p>The conf files include these:</p>

<p>php4.conf
ScriptAlias /php/ "C:/Program Files/php-4.4.1-Win32/"</p>

<h1 id="for-php-4">For PHP 4</h1>
<p>Action application/x-httpd-php "/php/php.exe"</p>

<h1 id="for-php-4-do-something-like-this">For PHP 4 do something like this:</h1>
<p>LoadModule php4_module "C:/php-4.4.1-Win32/sapi/php4apache2.dll"
AddType application/x-httpd-php .php</p>

<h1 id="configure-the-path-to-phpini">configure the path to php.ini</h1>
<p>PHPIniDir "C:/Program Files/php-4.4.1-Win32"</p>

<h1 id="uncomment-one-of-the-following-but-not-both">Uncomment one of the following (but not both)</h1>
<p># Use for PHP 4.x:
AddHandler php-script php</p>

<p>AddType text/html php</p>

<h1 id="php-syntax-coloring">PHP Syntax Coloring</h1>
<p># (optional but useful for reading PHP source for debugging):
AddType application/x-httpd-php-source phps
php504.conf
ScriptAlias /php/ "C:/Program Files/php-5.0.4-Win32/"</p>

<h1 id="for-php-5">For PHP 5</h1>
<p>#Action application/x-httpd-php "/php/php-cgi.exe"</p>

<p>AddType application/x-httpd-php .php</p>

<p>LoadModule php5_module "c:/Program Files/php-5.0.4-Win32/php5apache2.dll"</p>

<h1 id="configure-the-path-to-phpini-1">configure the path to php.ini</h1>
<p>PHPIniDir "C:/Program Files/php-5.0.4-Win32"</p>

<h1 id="uncomment-one-of-the-following-but-not-both-1">Uncomment one of the following (but not both)</h1>
<p>AddHandler php5-script php</p>

<p>AddType text/html php</p>

<h1 id="php-syntax-coloring-1">PHP Syntax Coloring</h1>
<p># (optional but useful for reading PHP source for debugging):
AddType application/x-httpd-php-source phps
php516.conf
ScriptAlias /php/ "C:/Program Files/php-5.1.6-Win32/"</p>

<h1 id="for-php-5-1">For PHP 5</h1>
<p>#Action application/x-httpd-php "/php/php-cgi.exe"</p>

<p>AddType application/x-httpd-php .php</p>

<p>LoadModule php5_module "c:/Program Files/php-5.1.6-Win32/php5apache2.dll"</p>

<h1 id="configure-the-path-to-phpini-2">configure the path to php.ini</h1>
<p>PHPIniDir "C:/Program Files/php-5.1.6-Win32"</p>

<h1 id="uncomment-one-of-the-following-but-not-both-2">Uncomment one of the following (but not both)</h1>
<p>AddHandler php5-script php</p>

<p>AddType text/html php</p>

<h1 id="php-syntax-coloring-2">PHP Syntax Coloring</h1>
<p># (optional but useful for reading PHP source for debugging):
AddType application/x-httpd-php-source phps
jrun4.conf
LoadModule jrun_module modules/mod_jrun20.so</p>

<IfModule mod_jrun20.c="">
  JRunConfig Verbose false
  JRunConfig Apialloc false
  JRunConfig Ssl false
  JRunConfig Ignoresuffixmap false
  JRunConfig Serverstore "C:/JRun4/lib/wsconfig/1/jrunserver.store"
  JRunConfig Bootstrap 127.0.0.1:51000
  AddHandler jrun-handler .jsp .jws
</IfModule>
<p>virtual hosts
then at the bottom of httpd.conf I create a virtual host and pick up any .vhost files:
NameVirtualHost 127.0.0.1
include C:/cygwin/etc/httpd/conf/*.vhost</p>

<p>phpmyadmin270.vhost</p>
<VirtualHost localhost:80="">
  ServerName phpmyadmin.badger:80
  DocumentRoot D:/phpMyAdmin-2.7.0-pl1
  CustomLog D:/logs/access_log combined
  ErrorLog D:/logs/error_log
  <IfModule mod_ssl.c="">
    SSLEngine off
  </IfModule>
  &lt;Directory D:/phpMyAdmin-2.7.0-pl1&gt;
    <IfModule sapi_apache2.c="">
      php_admin_flag engine on
       php_admin_value open_basedir "D:/phpMyAdmin-2.7.0-pl1:D:/tmp"
     </IfModule>
    Options -Includes -ExecCGI
  &lt;/Directory&gt;
</VirtualHost>
<p>hosts
Final thing is to set up a memorable domain name for your local site. Add a line to your C:/WINDOWS/system32/drivers/etc/hosts file to direct http calls to that domain to your localhost (127.0.0.1) so that Apache can receive it:
127.0.0.1 localhost
127.0.0.1 badger
127.0.0.1 mantis.badger
127.0.0.1 moodle144.badger
127.0.0.1 moodle153.badger
127.0.0.1 moodle163.badger
127.0.0.1 phpmyadmin.badger
127.0.0.1 bb.badger</p>

<p>I then change the file extension for any that I don't want:</p>

    </div>

    <div class="container-fluid" name="tags">
        <a href="/tags/ideas/">
        <span class="label label-pill label-info pull-left">ideas</span>
        </a>
    </div>
    <div class="container">
  <span>It's All In The Game blog (c) 2005-16 by Jez Nicholson</span>
</div>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-5854204-2', 'auto');
  ga('send', 'pageview');
</script>
<script src="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/js/bootstrap.js"></script> 


  </body>
</html>
